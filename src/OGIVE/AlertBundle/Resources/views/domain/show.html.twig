<div id="edit_domain" class="ui small modal">
    <i class="close icon"></i>
    <div id="header_details" class="header">
        Details du domaine << {{domain.name}} >>
    </div>
    <div id="header_edits" class="header" style="display: none">
        Modification du domaine << {{domain.name}} >>
    </div>
    <div class="content">
        {{ form_start(form, {'method': 'PUT', 'action': path('domain_update', {'id': domain.id}), 'attr': {'class': 'ui form', 'id': 'edit_domain_form'} }) }}
        <div id="block_form_edit" style="display: none">
            <div class="field">
                {{ form_label(form.name,"Nom") }}
                {{ form_widget(form.name,{'attr':{'placeholder':'Nom du domaine', 'data-validate': 'name'}})}}
            </div>

            <div class="field">
                {{ form_label(form.description,"Description") }}
                {{ form_errors(form.description, {'attr': {'class': 'ui error message'}})}}
                {{ form_widget(form.description,{'attr':{'placeholder':'Description du domain', 'data-validate': 'description'}})}}
            </div>
        </div>
        <div id="block_details">
            <div class="inline field">
                <label>Nom : </label> <span> {{ domain.name}}</span>
            </div>

            <div class="inline field">
                <label>Description : </label> <p> {{ domain.description}}</p>
            </div>

            <div class="inline field">
                <label>Date de création : </label> <span> {{ domain.createDate is empty ? "" : domain.createDate|date('d-m-Y H:i:s')}}</span>
            </div>

            <div class="inline field">
                <label>Date de la dernière modification : </label> <span> {{ domain.createDate is empty ? "" : domain.createDate|date('d-m-Y H:i:s')}}</span>
            </div>

            <div id="field_state_enable" class="inline field" {% if domain.state != 1 %} style="display: none" {% endif %}>
                <label>Etat : </label> <span> Activé </span>
            </div>
            
            <div id="field_state_disable" class="inline field" {% if domain.state == 1 %} style="display: none" {% endif %}>
                <label>Etat : </label> <span> Désactivé </span>
            </div>

        </div>
        <div class="field">
            {{form_rest(form)}}
            <div id="server_error_message_edit" class="ui negative message" style="display:none">
                <i class="close icon"></i>
                <div id="server_error_content_edit" class="header">Internal server error</div>
            </div>
            <div id="error_name_message_edit" class="ui error message" style="display: none">
                <i class="close icon"></i>
                <div id="error_name_header_edit" class="header"></div>
                <ul id="error_name_list_edit" class="list">

                </ul>
            </div>
        </div>

        {{ form_end(form) }}
    </div>
    <div class="actions">
        <div id="cancel_details_domain" class="ui black deny button">
            Fermer
        </div>
        {% if is_granted('ROLE_ADMIN') %}
            <div id="cancel_edit_domain" class="ui grey button" style="display:none">
                Annuler
            </div>
            <div id='disable_domain' onclick="disable_domain({{domain.id}});" class="ui red icon button" {% if domain.state != 1 %} style="display: none" {% endif %}>
                <i class="lock icon"></i>
                Désactiver
            </div>
            <div id='enable_domain' onclick="enable_domain({{domain.id}});" class="ui green icon button" {% if domain.state == 1 %} style="display: none" {% endif %}>
                <i class="unlock icon"></i>
                Activer
            </div>
            <div id='edit_domain_btn' class="ui primary icon button">
                <i class="edit icon"></i>
                Modifier
            </div>
            <div id='submit_edit_domain' class="ui primary icon button" style="display: none">
                <i class="save icon"></i>
                Sauvegarder
            </div>
        {% endif %}
    </div>
</div>