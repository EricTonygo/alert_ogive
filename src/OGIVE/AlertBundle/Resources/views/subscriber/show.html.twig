<div id="edit_subscriber" class="ui small modal">
    <i class="close icon"></i>
    <div id="header_details" class="header">
        Details de l'abonné << {{subscriber.name}} >>
    </div>
    <div id="header_edits" class="header" style="display: none">
        Modification de l'abonné << {{subscriber.name}} >>
    </div>
    <div class="content">
        <form id='edit_subscriber_form' class="ui form" method="PUT" action="{{ path('subscriber_update', {'id': subscriber.id})}}" {{ form_enctype(form) }}>
        <div id="block_form_edit" style="display: none">            

            <div class="field">
                {{ form_label(form.name,"Nom") }}
                {{ form_widget(form.name,{'attr':{'placeholder':"Nom de l'abonné", 'data-validate': 'name'}})}}
            </div>

            <div class="field">
                {{ form_label(form.subscriber,"Entreprise de l'abonné") }}
                {{ form_errors(form.subscriber, {'attr': {'class': 'ui error message'}})}}
                {{ form_widget(form.subscriber,{'attr':{'data-validate': 'domain', 'class': 'ui search dropdown'}})}}
            </div>

            <div class="field">
                {{ form_label(form.subscription,"Abonnement") }}
                {{ form_errors(form.subcription, {'attr': {'class': 'ui error message'}})}}
                {{ form_widget(form.subcription,{'attr':{'data-validate': 'domain', 'class': 'ui search dropdown'}})}}
            </div>

            <div class="field">
                {{ form_label(form.address.email,"Email") }}
                {{ form_widget(form.address.email,{'attr':{'placeholder':"Email de l'abonné", 'data-validate': 'email'}})}}
            </div>

            <div class="field">
                {{ form_label(form.address.phoneNumber,"TéléphoneNumber") }}
                {{ form_widget(form.address.phoneNumber,{'attr':{'placeholder':"Numero de téléphoneNumber", 'data-validate': 'phoneNumber'}})}}
            </div>

            <div class="field">
                {{form_rest(form)}}
                <div id="server_error_message_edit" class="ui negative message" style="display:none">
                    <i class="close icon"></i>
                    <div id="server_error_content_edit" class="header">Internal server error</div>
                </div>
                <div id="error_name_message_edit" class="ui error message" style="display: none">
                    <i class="close icon"></i>
                    <div id="error_name_header_edit" class="header"></div>
                    <ul id="error_name_list_edit" class="list">

                    </ul>
                </div>
            </div>

       
        </div>
        <div id="block_details">
            <div class="two fields">
                <div class="field">
                    <label>Logo : </label> 
                </div>
                <div class="field">
                    <div class="image">
                        <img src="{{asset('uploads/logos_subscribers/'~subscriber.logo)}}" alt="{{subscriber.name}}"/>
                    </div>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Nom : </label> 
                </div>
                <div class="field">
                    <span> {{ subscriber.name}}</span>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Domaine d'activité : </label> 
                </div>
                <div class="field">
                    {{ subscriber.domain.name}}
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Numéro de téléphoneNumber : </label> 
                </div>
                <div class="field">
                    <span> {{ subscriber.address.phoneNumber}}</span>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Email : </label> 
                </div>
                <div class="field">
                    {{ subscriber.address.email}}
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Boîte poste : </label> 
                </div>
                <div class="field">
                    <span> {{ subscriber.address.mailBox}}</span>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Pays : </label> 
                </div>
                <div class="field">
                    {{ subscriber.address.country|country_name}}
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Ville : </label> 
                </div>
                <div class="field">
                    {{ subscriber.address.street}}
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Lieu de localisation : </label> 
                </div>
                <div class="field">
                    <span> {{ subscriber.address.place}}</span>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Plan de localisation : </label> 
                </div>
                <div class="field">
                    <a  href="{{asset('uploads/planslocalisation/'~subscriber.address.path)}}" target="_blank" alt="{{subscriber.name}}"/>Lien vers le plan de localisation</a>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Date de création : </label>
                </div>
                <div class="field">
                    <span> {{ callOffer.createDate is empty ? "" : callOffer.createDate|date('d-m-Y H:i:s')}}</span>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Date de la dernière modification : </label> 
                </div>
                <div class="field">
                    <span> {{ callOffer.createDate is empty ? "" : callOffer.createDate|date('d-m-Y H:i:s')}}</span>
                </div>
            </div>

            <div id="field_state_enable" class="two fields" {% if callOffer.state != 1 %} style="display: none" {% endif %}>
                <div class="field">
                    <label>Etat : </label>
                </div>
                <div class="field">
                    <span> Activé </span>
                </div>             
            </div>

            <div id="field_state_disable" class="two fields" {% if callOffer.state == 1 %} style="display: none" {% endif %}>
                <div class="field">
                    <label>Etat : </label>
                </div>
                <div class="field">
                    <span> Désactivé </span>
                </div>

            </div>

        </div>
        <div class="field">
            {{ form_widget(form._token) }}
            <div id="server_error_message_edit" class="ui negative message" style="display:none">
                <i class="close icon"></i>
                <div id="server_error_content_edit" class="header">Internal server error</div>
            </div>
            <div id="error_name_message_edit" class="ui error message" style="display: none">
                <i class="close icon"></i>
                <div id="error_name_header_edit" class="header"></div>
                <ul id="error_name_list_edit" class="list">

                </ul>
            </div>
        </div>

         </form>
    </div>
    <div class="actions">
        <div id="cancel_details_subscriber" class="ui black deny button">
            Fermer
        </div>
        {% if is_granted('ROLE_ADMIN') %}
            <div id="cancel_edit_subscriber" class="ui grey button" style="display:none">
                Annuler
            </div>
            <div id='disable_subscriber' onclick="disable_subscriber({{subscriber.id}});" class="ui red icon button" {% if subscriber.state != 1 %} style="display: none" {% endif %}>
                <i class="lock icon"></i>
                Désactiver
            </div>
            <div id='enable_subscriber' onclick="enable_subscriber({{subscriber.id}});" class="ui green icon button" {% if subscriber.state == 1 %} style="display: none" {% endif %}>
                <i class="unlock icon"></i>
                Activer
            </div>
            <div id='edit_subscriber_btn' class="ui primary icon button">
                <i class="edit icon"></i>
                Modifier
            </div>
            <div id='submit_edit_subscriber' class="ui primary icon button" style="display: none">
                <i class="save icon"></i>
                Sauvegarder
            </div>
        {% endif %}
    </div>
</div>